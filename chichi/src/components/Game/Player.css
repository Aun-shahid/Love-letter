/**
 * Player CSS Styles
 * 
 * Using LPC (Liberated Pixel Cup) sprite sheets for Chichi.
 * LPC sprites are 64x64 per frame, arranged in rows by direction.
 * Row 0 = Up, Row 1 = Left, Row 2 = Down, Row 3 = Right
 */

.player {
  position: absolute;
  width: 64px;
  height: 64px;
  z-index: 100;
  /* Offset to center the sprite on the position */
  margin-left: -32px;
  margin-top: -48px;
}

/* Sprite display area */
.player-sprite {
  width: 64px;
  height: 64px;
  background-size: auto 256px; /* 4 rows of 64px each */
  background-repeat: no-repeat;
  image-rendering: pixelated;
  image-rendering: crisp-edges;
  transform: scale(1.2);
  transform-origin: bottom center;
}

/* ==========================================
   DIRECTION ROWS (LPC Standard)
   Row 0 = Up (facing away)
   Row 1 = Left
   Row 2 = Down (facing camera)
   Row 3 = Right
   ========================================== */

.player.facing-up .player-sprite {
  background-position-y: 0px;
}

.player.facing-left .player-sprite {
  background-position-y: -64px;
}

.player.facing-down .player-sprite {
  background-position-y: -128px;
}

.player.facing-right .player-sprite {
  background-position-y: -192px;
}

/* ==========================================
   IDLE ANIMATION
   Single frame, subtle breathing effect
   ========================================== */

.player.idle .player-sprite {
  background-position-x: 0px;
  animation: idleBreath 2s ease-in-out infinite;
}

@keyframes idleBreath {
  0%, 100% {
    transform: scale(1.2) translateY(0);
  }
  50% {
    transform: scale(1.2) translateY(-2px);
  }
}

/* ==========================================
   WALKING ANIMATION
   9 frames at 64px each = 576px total width
   ========================================== */

.player.walking .player-sprite {
  animation: walkCycle 0.8s steps(9) infinite;
}

@keyframes walkCycle {
  from {
    background-position-x: 0px;
  }
  to {
    background-position-x: -576px; /* 9 frames * 64px */
  }
}

/* ==========================================
   CHARACTER LABEL
   ========================================== */

.player-label {
  text-align: center;
  font-size: 0.65rem;
  color: #ff69b4;
  text-shadow: 
    0 0 5px rgba(255, 105, 180, 0.8),
    1px 1px 2px rgba(0, 0, 0, 0.8);
  margin-top: 2px;
  font-weight: bold;
  white-space: nowrap;
}
